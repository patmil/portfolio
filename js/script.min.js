var sliderPortfolio,skillsBox,foemValid,resolution320=window.matchMedia("(max-width: 320px)"),resolution576=window.matchMedia("(max-width: 575.98px)"),resolution768=window.matchMedia("(max-width: 767.98px)"),resolution992=window.matchMedia("(max-width: 991.98px)"),resolution1200=window.matchMedia("(max-width: 1199.98px)"),orientation=window.matchMedia("(orientation: landscape)");if(resolution576.matches)var offsetFront=$("#frontEnd").offset().top,offsetBack=$("#backEnd").offset().top,offsetGraphic=$("#graphic").offset().top,offsetTools=$("#tools").offset().top;function setHeightWorks(){var t=$(".container-jobs").find("article"),i=[];t.each(function(){var t=$(this).height();i.push(Math.ceil(t))}),i.sort(function(t,i){return i-t}),$(".container-jobs").css("min-height",i[0]+40),t.each(function(){$(this).css("height",i[0])}),i.splice(0,this.length)}function slideMenu(){var t=$(".menu-mobile"),i=t.offset().left,s=t.width();$(".nav-toggle").toggleClass("x"),0===i?t.animate({left:i-(s+40)},"slow"):t.animate({left:0},"slow")}function menuDesktop(){var t=$("#desktop-menu"),i=t.css("transform");$(".nav-toggle").toggleClass("x"),"matrix(-1, 0, 0, -1, 0, 0)"==i?t.css("animation","VisibleMenu 1s forwards"):t.css("animation","HiddenMenu 1s")}function tooltip(t){var i=$(".tooltip"),s=$(t).attr("data-tooltip"),e=$(t).offset().left,o=$(t).offset().top+$(t).height()/2;i.html(s),i.css({left:e-(37+$(".tooltip").width()),top:o-$(".tooltip").height()/2}),i.css("opacity","1")}function menu(t){var i=$(t).children("a").attr("href"),s=$("#"+i.substring(1)).offset();$("html, body").animate({scrollTop:s.top},"slow"),resolution992.matches?slideMenu():menuDesktop()}function hiddenHeaderItems(t){var i,s,e=$(window).outerHeight(),o=$(".name").height(),n=$(".name").position().top,a=.4*$("header > img").width(),l=1-Math.floor(t/(a/10).toFixed(1))/10,c=$("header").children("img").css("opacity");t<=a.toFixed(0)?$("header").children("img").css("opacity",l):t>a.toFixed(0)&&"0"!==c&&$("header").children("img").css("opacity",0),n=parseInt(n.toFixed(0)),t>=(i=orientation.matches&&resolution768.matches?e-(o+n):e-(2*o+n))&&t<=e-n?(s=90/(2*o)*(t-i),$(".box-name").css({transform:"rotateX("+-s+"deg)",opacity:1})):t<i?$(".box-name").css("transform","rotateX(0deg)"):t>e-n&&$(".box-name").css({transform:"rotateX(-90deg)",opacity:0})}function ValidForm(){this.$input=$("input, textarea"),this.nameReg=/^[\sa-ząćźżęśłóńA-ZĄĆŹŻĘŚŁÓŃ0-9&._-]{1,}$/i,this.emailReg=/^[a-z0-9]+[\w\d.-]+@[\w\d-]+\.+[a-z0-9.]{2,}$/i,this.htmlReg=/<(?:.|\s)*?>/g,this.nameStatus,this.emailStatus,this.subjectStatus,this.messageStatus,this.validInput=function(t){switch($(t).attr("name")){case"name":this.nameArea(t);break;case"email":this.emailArea(t);break;case"subject":case"message":this.textArea(t)}},this.nameArea=function(t){var i=t.value;this.nameReg.test(i)&&""!=i?("valid invalid"==$(t).attr("class")?$(t).removeClass("invalid"):$(t).addClass("valid"),this.nameStatus=!0):""==i?($(t).removeClass(),this.nameStatus=!1):($(t).addClass("invalid"),this.nameStatus=!1)},this.emailArea=function(t){var i=t.value;this.emailReg.test(i)&&""!=i?("invalid"==$(t).attr("class")?($(t).removeClass("invalid"),$(t).addClass("valid")):"valid invalid"==$(t).attr("class")?$(t).removeClass("invalid"):$(t).addClass("valid"),this.emailStatus=!0):""==i?($(t).removeClass(),this.emailStatus=!1):($(t).addClass("invalid"),this.emailStatus=!1)},this.textArea=function(t){var i,s=t.value;""!=s?(i=s.replace(this.htmlReg,""),$(t).val(i),$(t).addClass("valid"),"subject"==$(t).attr("name")?this.subjectStatus=!0:"message"==$(t).attr("name")&&(this.messageStatus=!0)):""==s&&($(t).removeClass(),"subject"==$(t).attr("name")?this.subjectStatus=!1:"message"==$(t).attr("name")&&(this.messageStatus=!1))},this.activeButton=function(){this.nameStatus&&this.emailStatus&&this.subjectStatus&&$("button").removeAttr("disabled")},this.sendForm=function(){var t={name:$('input[name="name"]').val(),email:$('input[name="email"]').val(),subject:$('input[name="subject"]').val(),message:$('textarea[name="message"]').val()};this.nameStatus&&this.emailStatus&&this.subjectStatus&&this.messageStatus&&$.ajax({url:"/send.php",method:"post",dataType:"json",data:t,success:function(t){"ok"==t.status?$(".action").addClass("sendOk").html("Wiadomość wysłana :)"):"error"==t.status&&$(".action").addClass("sendErr").html("Błąd spróbuj ponownie :(")},error:function(t){console.error("Wystąpił błąd z połączeniem")},complete:function(){$("button").prop("disabled",!0),$("input, textarea").val("").removeClass(),setTimeout(function(){$(".action").html(""),$(".action").removeClass("sendOk"),$(".action").removeClass("sendErr")},2e3)}})}}function AboutMe(){this.$contener=$(".about-me"),this.moreText=this.$contener.find("p").not(":first-of-type"),this.body=$("html, body"),this.offsetDesc,this.displayImg=this.$contener.children("img").css("display"),this.windowHeight=$(window).outerHeight(),this.bgFixed=function(t){t>=this.windowHeight?this.$contener.addClass("bgFix"):this.$contener.removeClass("bgFix")},this.myPhoto=function(t){t>240&&($(".about-me img").css("transform","scale(1,1)"),orientation.matches&&resolution768.matches?this.$contener.children("p").animate({opacity:1},"slow"):this.$contener.children("p").delay(300).animate({opacity:1},"slow"))},this.topDesc=function(){"none"!==this.displayImg?this.offsetDesc=$(".about-me").children("img").offset().top:this.offsetDesc=$(".about-me").offset().top,this.body.animate({scrollTop:this.offsetDesc},500,"linear")},this.moreAboutMe=function(t){"Więcej..."===t.textContent?(this.moreText.css({height:"auto",padding:"10px",visibility:"visible"}),t.textContent="Mniej...",this.$contener.css("backgroundAttachment","fixed")):(this.moreText.css({visibility:"hidden",height:"0",padding:"0"}),t.textContent="Więcej...",this.$contener.css("backgroundAttachment",""),this.topDesc())}}function SkillsViewer(){this.$skills=$(".skills").find(".containerSkills"),this.idClickSkill,this.$technology=$(".technology"),this.checkSkill=function(t,i){var s=this;this.idClickSkill=$(t).attr("id"),this.$skills.each(function(){"none"!==$(this).css("display")&&$(this).prev().attr("id")!==s.idClickSkill&&s.slideSkill($(this).prev())}),this.slideSkill(t),$("html, body").stop().animate({scrollTop:i},500,"swing")},this.slideSkill=function(t){$(t).children("span:not(.block)").toggle(),resolution576.matches?$(t).parent().children(".containerSkills").toggle():"none"==$(t).parent().children(".containerSkills").css("display")?$(t).parent().children(".containerSkills").css("display","flex"):$(t).parent().children(".containerSkills").css("display","none")},this.skillLarge=function(){this.$technology.each(function(t){$(this).children("h4").css({left:25*t+"%",zIndex:4}).removeClass("z-depth-1")}),this.$technology.eq(0).children("h4").addClass("activeSkill"),this.$technology.eq(0).children("div.containerSkills").css("opacity",1)},this.checkActiveLS=function(t){this.idClickSkill=$(t).attr("id");"activeSkill"!==$(t).attr("class")&&(this.$technology.each(function(){"activeSkill"===$(this).children("h4").attr("class")&&($(this).children("h4").removeClass("activeSkill"),$(this).children("div.containerSkills").animate({opacity:0},"slow"))}),this.changeActiveLS(t))},this.changeActiveLS=function(t){$(t).addClass("activeSkill"),$(t).next().delay(300).animate({opacity:1},"slow")}}function SlideWorks(){this.$contener=$(".container-jobs"),this.$works=this.$contener.find("article"),this.width=this.$contener.width(),this.n_jobs=this.$works.length,this.posFirst=parseInt((.1*this.width).toFixed(1)),this.destFirst=function(){var t=this;this.$works.each(function(i){$(this).css("left",t.posFirst+i*t.width)})},this.starts=function(t){"swipeleft"===t.type?(this.$works.css({transformOrigin:"0% 50%",transform:"rotateY(15deg)"}),setTimeout(this.nextJobs(),300)):(this.$works.css({transformOrigin:"100% 50%",transform:"rotateY(-15deg)"}),setTimeout(this.prevJobs(),300))},this.nextJobs=function(){var t=this;this.$works.eq(this.n_jobs-1).offset().left===this.posFirst?(this.$works.eq(this.n_jobs-1).css("left","-250px"),setTimeout(function(){t.$works.eq(t.n_jobs-1).css("left",t.posFirst)},300)):this.$works.delay(300).each(function(){var i=parseInt($(this).css("left"));$(this).css("left",i-t.width)}),this.changeTransform()},this.prevJobs=function(){var t=this;this.$works.eq(0).offset().left===this.posFirst?(this.$works.eq(0).css("left","250px"),setTimeout(function(){t.$works.eq(0).css("left",t.posFirst)},300)):this.$works.each(function(){var i=parseInt($(this).css("left"));$(this).css("left",i+t.width)}),this.changeTransform()},this.changeTransform=function(){var t=this;setTimeout(function(){t.$works.css("transform","rotateY(0deg)")},800)},this.rotateLargeViewer=function(t){t>=$(".skills").offset().top&&(this.$works.each(function(t){$(this).delay(100*t).animate({textIndent:0},{step:function(t){$(this).css("transform","rotateY(0)")},duration:"slow"},"linear")}),$(".thumbnail-page").css("opacity",1))}}sliderPortfolio=new SlideWorks,skillsBox=new SkillsViewer,about=new AboutMe,formValid=new ValidForm,$(document).ready(function(){resolution768.matches?(setHeightWorks(),sliderPortfolio.destFirst()):skillsBox.skillLarge(),$(".nav-toggle").on("click",function(){resolution992.matches?slideMenu():menuDesktop()}),$(".more").on("click",function(){about.moreAboutMe(this)}),$("#frontEnd").on("click",function(){resolution768.matches?skillsBox.checkSkill(this,offsetFront):skillsBox.checkActiveLS(this)}),$("#backEnd").on("click",function(){resolution768.matches?skillsBox.checkSkill(this,offsetBack):skillsBox.checkActiveLS(this)}),$("#graphic").on("click",function(){resolution768.matches?skillsBox.checkSkill(this,offsetGraphic):skillsBox.checkActiveLS(this)}),$("#tools").on("click",function(){resolution768.matches?skillsBox.checkSkill(this,offsetTools):skillsBox.checkActiveLS(this)}),$(".anchor-section li").on("click",function(){menu(this)}),$("#desktop-menu li").hover(function(){tooltip(this)},function(){$(".tooltip").css("opacity","0"),$(".tooltip").html("")}),$(".toTop").on("click",function(){$("html, body").stop().animate({scrollTop:0},1e3,"swing")}),$(".container-jobs").on("swipeleft",function(t){sliderPortfolio.starts(t)}),$(".container-jobs").on("swiperight",function(t){sliderPortfolio.starts(t)}),$("input, textarea").on("focus",function(){$(this).on("keyup",function(){formValid.validInput(this)}),$(this).on("mousup",function(){formValid.validInput(this)})}),$("textarea").on("focus",function(){formValid.activeButton()}),$("form").on("submit",function(t){t.preventDefault(),formValid.sendForm()}),$(window).on("scroll",function(){var t=this.pageYOffset;hiddenHeaderItems(t),about.bgFixed(t),about.myPhoto(t),sliderPortfolio.rotateLargeViewer(t)})}),$(window).ready(function(){$(".loading").animate({opacity:0},"300"),setTimeout(function(){$(".loading").css("display","none")},300),$(window).on("orientationchange",function(){$(".loading").css({opacity:1,display:"block"}),setTimeout(function(){location.reload()},100)})});